<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cell - Navigateur Web</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="favicon.svg" type="image/svg+xml">
</head>
<body>
    <div id="app" class="container">
        <!-- Barre de navigation -->
        <header class="header">
            <div class="toolbar">
                <button id="backBtn" class="icon-button" title="Page précédente">
                    <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                </button>
                <button id="forwardBtn" class="icon-button" title="Page suivante">
                    <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg>
                </button>
                <button id="refreshBtn" class="icon-button" title="Rafraîchir">
                    <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg>
                </button>
                <button id="fullscreenBtn" class="icon-button" title="Plein écran">
                    <svg id="fullscreenIcon" viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg>
                    <svg id="exitFullscreenIcon" viewBox="0 0 24 24" width="24" height="24" style="display:none"><path fill="currentColor" d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"/></svg>
                </button>

                <!-- Bouton Favoris -->
                <div class="icon-wrapper">
                    <button id="bookmarksBtn" class="icon-button" title="Favoris">
                        <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>
                    </button>
                    <div id="bookmarksMenu" class="menu hidden">
                        <div class="menu-scroll" id="bookmarksList">
                            <div class="menu-empty-text">Aucun favori</div>
                        </div>
                    </div>
                </div>

                <!-- Bouton Historique -->
                <div class="icon-wrapper">
                    <button id="historyBtn" class="icon-button" title="Historique">
                        <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"/></svg>
                    </button>
                    <div id="historyMenu" class="menu hidden">
                        <div class="menu-scroll" id="historyList">
                            <div class="menu-empty-text">Aucun historique</div>
                        </div>
                    </div>
                </div>

                <!-- Bouton Téléchargements -->
                <div class="icon-wrapper">
                    <button id="downloadsBtn" class="icon-button" title="Téléchargements">
                        <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/></svg>
                    </button>
                    <div id="downloadsMenu" class="menu hidden">
                        <div class="menu-scroll" id="downloadsList">
                            <div class="menu-empty-text">Aucun téléchargement</div>
                        </div>
                    </div>
                </div>

                <!-- Bouton Traduction -->
                <div class="icon-wrapper">
                    <button id="translateBtn" class="icon-button" title="Traduire">
                        <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>
                    </button>
                    <div id="translateMenu" class="menu hidden">
                        <div class="menu-title">Traduire en:</div>
                        <div class="menu-scroll" id="translateList"></div>
                    </div>
                </div>

                <!-- Bouton Thème -->
                <div class="icon-wrapper">
                    <button id="themeBtn" class="icon-button" title="Thème">
                        <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/></svg>
                    </button>
                    <div id="themeMenu" class="menu hidden">
                        <div class="menu-title">Choisir un thème:</div>
                        <div class="menu-scroll" id="themeList"></div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Gestionnaire d'onglets -->
        <div class="tab-manager" id="tabManager">
            <div class="tabs-scroll" id="tabsScroll"></div>
            <button id="newTabBtn" class="new-tab-button" title="Nouvel onglet">
                <svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
            </button>
        </div>

        <!-- Barre d'adresse -->
        <div class="address-bar-container">
            <div class="url-box">
                <input type="text" id="urlInput" placeholder="Recherche ou URL..." autocomplete="off">
                <button id="clearUrlBtn" class="url-clear-button hidden">×</button>
                <button id="goBtn" class="url-button">GO</button>
                <button id="bookmarkBtn" class="url-button">★</button>
            </div>
            <div id="suggestionsBox" class="suggestions-box hidden"></div>
        </div>

        <!-- Zone d'affichage des pages -->
        <div class="webview-container" id="webviewContainer"></div>

        <!-- Bouton Cell (assistant) -->
        <button id="cellBtn" class="cell-button">
            <span>Cell</span>
        </button>

        <!-- Bouton Mode Privé -->
        <button id="privateModeBtn" class="private-mode-button" title="Mode privé">
            <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"/></svg>
            <span id="privateModeText" class="private-mode-text hidden">Privé</span>
        </button>

        <!-- Interface Chat Cell -->
        <div id="chatContainer" class="chat-container hidden">
            <div class="chat-header">
                <div class="chat-header-left">
                    <div class="ia-icon"><span>Cell</span></div>
                </div>
                <div class="chat-header-right">
                    <button id="stopSpeechBtn" class="icon-button-small" title="Arrêter la voix">
                        <svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg>
                    </button>
                    <button id="closeChatBtn" class="icon-button-small" title="Fermer">
                        <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
                    </button>
                </div>
            </div>
            <div class="messages-container" id="messagesContainer"></div>
            <div class="quick-actions" id="quickActions">
                <button class="quick-action-chip" data-command="Donne-moi des suggestions">Suggestions</button>
                <button class="quick-action-chip" data-command="Résume cette page">Résume</button>
                <button class="quick-action-chip" data-command="Aide">Aide</button>
            </div>
            <div class="input-container">
                <button id="micBtn" class="mic-button" title="Entrée vocale">
                    <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"/></svg>
                </button>
                <input type="text" id="chatInput" placeholder="Parlez à Cell...">
                <button id="sendBtn" class="send-button" title="Envoyer">
                    <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg>
                </button>
            </div>
        </div>
    </div>

    <script src="ai-engine.js"></script>
    <script src="browser.js"></script>
</body>
</html>
